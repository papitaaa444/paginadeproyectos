<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Con amor para ti ğŸŒ¸</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --rosa:#FF69B4; --rosa-claro:#FFB6C1; --magenta:#DB7093; --bg:#FFF0F5;
      --oscuro:#0b132b; --azul:#00d4ff; --verde:#1DB954; --gris:#1a1a1a; --oro:#FFD700;
    }
    * { box-sizing: border-box; }
    body { margin:0; font-family: Georgia, serif; background: var(--bg); color:#333; }
    .pantalla { display:none; padding:26px; text-align:center; min-height:100vh; }
    .btn { margin:10px; padding:12px 20px; border:none; border-radius:10px; font-weight:bold; cursor:pointer; }
    .btn-primario { background: var(--rosa); color: white; }
    .btn-rosa { background: var(--rosa-claro); color:white; }
    .btn-verde { background: var(--verde); color:white; }
    .btn-azul { background: var(--azul); color:black; }
    canvas { border:2px solid #ffc0cb; background:transparent; border-radius:8px; max-width: 100%; }
    input { padding:10px; font-size:16px; border:2px solid #eee; border-radius:8px; text-align:center; }
    #juego3 { background: var(--oscuro); color:white; }
    #juego4 { background:#0d1b2a; color:white; }
    #juego5 { background:#FFF5EE; }
    #juego6 { background:#FFF9FB; }
    #juego7 { background:#121212; color:white; }
    #juego8 { background: var(--gris); color:white; }
    #juego10 { background:#000014; color:white; }
    #cartaFinal { background:#FFFAF0; }
  </style>
</head>
<body>

<section id="bienvenida" class="pantalla" style="display:block;">
  <h1 style="color:var(--magenta)">Para mi persona favorita</h1>
  <p style="color:#BC8F8F">He preparado este pequeÃ±o rincÃ³n para ti.<br>Â¿Me permites mostrarte?</p>
  <button class="btn btn-rosa" onclick="mostrar('juego1')">Comenzar Viaje âœ¨</button>
</section>

<section id="juego1" class="pantalla">
  <h2 style="color:#CD5C5C">ğŸ’– Primer Reto: Afecto</h2>
  <p style="color:#888;">Dale a â€œSiguienteâ€ cuando te rindas âœ¨</p>
  <div id="ronda1">
    <h3>Ronda 1: Un besito â¤ï¸</h3>
    <canvas id="canvasR1" width="600" height="260"></canvas>
    <button class="btn btn-rosa" onclick="pasarRonda(1)">Siguiente â¡ï¸</button>
  </div>
  <div id="ronda2" style="display:none;">
    <h3>Ronda 2: Un abrazao ğŸ’œ</h3>
    <canvas id="canvasR2" width="600" height="260"></canvas>
    <button class="btn btn-rosa" onclick="pasarRonda(2)">Siguiente â¡ï¸</button>
  </div>
  <div id="ronda3" style="display:none;">
    <h3>Busca 5 corazones rosados ğŸ’—</h3>
    <canvas id="canvasCorazones" width="600" height="350"></canvas>
    <p id="puntos">Puntos: 0/5</p>
    <button id="btnNext1" class="btn btn-primario" style="display:none;" onclick="mostrar('juego2')">Siguiente â¡ï¸</button>
  </div>
</section>

<section id="juego2" class="pantalla">
  <h2 style="color:var(--magenta)">ğŸ¨ Encuentra el color oculto</h2>
  <p id="intentos">Te quedan 3 intentos</p>
  <div id="opciones"></div>
  <p id="mensaje" style="color:#F08080"></p>
</section>

<section id="juego3" class="pantalla">
  <h2>ğŸš€ Viaje Estelar (El Principito)</h2>
  <p id="frase"></p>
  <div id="opcionesPrincipito"></div>
  <p id="estado"></p>
</section>

<section id="juego4" class="pantalla">
  <h2>âœ¨ PROTEGE NUESTRO CIELO âœ¨</h2>
  <canvas id="canvasEsquiva" width="600" height="450"></canvas>
  <p id="energia">EnergÃ­a del Amor: 0%</p>
</section>

<section id="juego5" class="pantalla">
  <h2>ğŸ’– Laberinto MÃ¡gico</h2>
  <p id="vidas">Vidas: â¤ï¸ â¤ï¸ â¤ï¸</p>
  <canvas id="canvasLaberinto" width="600" height="400"></canvas>
</section>

<section id="juego6" class="pantalla">
  <h2>ğŸŒ¸ JardÃ­n Final ğŸŒ¸</h2>
  <canvas id="canvasJardin" width="800" height="650"></canvas>
  <button class="btn btn-primario" onclick="mostrar('juego7')">Siguiente â¡ï¸</button>
</section>

<section id="juego7" class="pantalla">
  <h2>ğŸµ Trivia Musical ğŸµ</h2>
  <p id="pregunta"></p>
  <div id="opcionesTrivia"></div>
</section>

<section id="juego8" class="pantalla">
  <h2>ğŸ¤ Completa la letra ğŸ¤</h2>
  <p id="tituloLetra" style="font-style:italic; color:#cccccc"></p>
  <p id="fraseLetra" style="font-weight:bold"></p>
  <div id="opcionesLetra"></div>
</section>

<section id="juego9" class="pantalla">
  <h2>ğŸ•µï¸ Adivina el Artista por Emojis</h2>
  <p id="emojiArtista" style="font-size:40px;"></p>
  <input id="entradaArtista" type="text" placeholder="Escribe tu respuesta..." />
  <button class="btn btn-verde" onclick="verificarArtista()">Comprobar</button>
  <p id="errorArtista" style="color:red;"></p>
</section>

<section id="juego10" class="pantalla">
  <h2 style="color:var(--oro)">ğŸ‰ Â¡Felicidades! ğŸ‰</h2>
  <canvas id="canvasFuegos" width="800" height="650" style="background:#000014; border-color:#222;"></canvas>
  <button class="btn btn-rosa" onclick="mostrar('cartaFinal')">Abrir Carta Especial ğŸ’Œ</button>
</section>

<section id="cartaFinal" class="pantalla">
  <h2 style="color:var(--magenta); margin-bottom:12px;">Mi Carta Especial...</h2>
  <div style="position:relative; max-width:860px; margin:0 auto;">
    <canvas id="canvasCarta" width="820" height="520" style="background:#FFFAF0; border:none; border-radius:12px;"></canvas>
    <div style="position:absolute; left:50%; top:50%; transform:translate(-50%, -50%); width:620px; max-width:92%; background:#FFEFF4; border:2px solid #FFC0CB; border-radius:12px; box-shadow:0 10px 25px rgba(219,112,147,0.25); color:#505050; text-align:center; padding:22px;">
      <h3 style="margin:0 0 12px; color:#DB7093;">Mi carta especial...</h3>
      <div style="font-family:Verdana; font-size:14px; line-height:1.6; text-align:justify; max-height:280px; overflow:auto;">
        QuizÃ¡ te demuestro muy poco y quizÃ¡ esto no sea nada o, si lo es, no sea suficiente...
        [TU TEXTO COMPLETO AQUÃ]
      </div>
      <button class="btn btn-primario" onclick="finalizarCarta()">Finalizar con un abrazo virtual ğŸ¤—</button>
    </div>
  </div>
</section>

<script>
// LÃ³gica de navegaciÃ³n
function mostrar(id){
  document.querySelectorAll('.pantalla').forEach(p=>p.style.display='none');
  document.getElementById(id).style.display='block';
}

function pasarRonda(n){
  if(n===1) { document.getElementById("ronda1").style.display="none"; document.getElementById("ronda2").style.display="block"; }
  if(n===2) { document.getElementById("ronda2").style.display="none"; document.getElementById("ronda3").style.display="block"; }
}

// Juego 1 - Corazones Rosados (CORREGIDO PUNTOS)
const c3 = document.getElementById("canvasCorazones"), ctx3 = c3.getContext("2d");
let puntosJ1=0, arrJ1=[], spawnTimeout=null;
function drawR3(){ ctx3.clearRect(0,0,c3.width,c3.height); ctx3.font="36px Arial"; arrJ1.forEach(c=>ctx3.fillText(c.t,c.x,c.y)); }
function spawnR3(){
  if(puntosJ1>=5) return;
  const x=Math.random()*560+20, y=Math.random()*320+20;
  const tipos=["â¤ï¸","ğŸ’œ","ğŸ’—","ğŸŒ¸","âœ¨"];
  arrJ1.push({x,y,t:tipos[Math.floor(Math.random()*tipos.length)]});
  drawR3();
  spawnTimeout = setTimeout(spawnR3, 600);
}
c3.addEventListener("click",(e)=>{
  const rect=c3.getBoundingClientRect(); const x=e.clientX-rect.left, y=e.clientY-rect.top;
  arrJ1.forEach((c,i)=>{
    if(Math.hypot(x-c.x, y-c.y) < 40){
      if(c.t==="ğŸ’—"){
        puntosJ1++;
        document.getElementById("puntos").innerText=`Puntos: ${puntosJ1}/5`;
        if(puntosJ1>=5){ 
            document.getElementById("btnNext1").style.display="inline-block"; 
            clearTimeout(spawnTimeout);
        }
      }
      arrJ1.splice(i,1); drawR3();
    }
  });
});

// [TODAS LAS DEMÃS FUNCIONES DE TU ARCHIVO ORIGINAL SE MANTIENEN IGUAL]

// CARTA FINAL (CORREGIDO ERROR DE SINTAXIS)
(function(){
  const canvas = document.getElementById("canvasCarta"), ctx = canvas.getContext("2d");
  let hearts=[], ticker, spawnInt;
  function newHeart(){ hearts.push({x:Math.random()*canvas.width, y:canvas.height+20, vx:Math.random()*2-1, vy:-(Math.random()*2+1), col:"#FFB6C1"}); }
  function loop(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for(let i=0; i<hearts.length; i++){
        let h = hearts[i]; h.y += h.vy; ctx.fillText("ğŸ’—", h.x, h.y);
    }
    ticker = requestAnimationFrame(loop);
  }
  // EL ERROR ESTABA AQUÃ ABAJO: i<28)i++ se cambiÃ³ a i<28; i++
  function start(){ hearts=[]; for(let i=0; i<28; i++){ newHeart(); } loop(); spawnInt = setInterval(newHeart,1200); }
  
  const obs = new MutationObserver(()=>{ if(document.getElementById("cartaFinal").style.display==="block") start(); });
  obs.observe(document.body, {attributes:true, subtree:true});
  
  window.finalizarCarta = () => { location.reload(); };
})();

// [RESTO DE TU LÃ“GICA DE JUEGOS 2 AL 10 AQUÃ...]

</script>
</body>
</html>









